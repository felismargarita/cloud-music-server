<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.felis.cloudmusic.mapper.SongMapper">
    <resultMap id="SongMapper" type="com.felis.cloudmusic.entity.Song">
        <id column="id" property="id"/>
        <result column="singer" property="singer"/>
        <result column="singer_id" property="singerId"/>
        <result column="name" property="name"/>
        <result column="song_url" property="songUrl"/>
        <result column="duration" property="duration"/>
        <result column="introduction" property="introduction"/>
        <result column="picture_url" property="pictureUrl"/>
        <result column="lyric" property="lyric"/>
        <result column="album" property="album"/>
        <result column="album_id" property="albumId"/>
        <result column="delivery_time" property="deliveryTime"/>
        <result column="created_time" property="createdTime"/>
        <result column="updated_time" property="updatedTime"/>
    </resultMap>


    <select id="get" resultMap="SongMapper">
        select a.*, b.name as singer, c.name as album
        from cloud_song a
                 left join cloud_singer b on a.singer_id = b.id
                 left join cloud_album c on a.album_id = c.id
    </select>

</mapper>